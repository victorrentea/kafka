@startuml
title Consumer Race
hide footbox
queue T1
queue T2
database DB order 10

T1->C1: ExpGained{playerId,exp}
C1<-DB:Player{playerId}
T2->C2: AchivementUnlocked{playerId}
C2<-DB:Player{playerId}
C1->DB: U1
C2->DB!!: U2
T2->C2: AchivementUnlocked{playerId}
C2->DB: U2
'hnote over DB: Update U1 fails when\napplied **AFTER** U2
@enduml
