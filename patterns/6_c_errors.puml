@startuml
title Consumer Error Handling
hide footbox
skinparam monochrome reverse

P->C: M
alt
    loop timed retry 10
        C->C!!: process(M)
    end
else catch (error)
'    hnote over C: log.error("[ALARM-P1]M")
'    hnote over C: retry N times \n + max time
'    C->B: M to DLQ
    C->B: PaymentFailed
end

@enduml
